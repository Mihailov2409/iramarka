
<DrawerClickableItem@MDNavigationDrawerItem>
    focus_color: "#FFA500"
    text_color: "#4a4939"
    icon_color: "#4a4939"
    ripple_color: "#FFA500"
    selected_color: "#FFA500"


<DrawerLabelItem@MDNavigationDrawerItem>
    text_color: "#4a4939"
    icon_color: "#4a4939"
    focus_behavior: False
    selected_color: "#FFA500"
    _no_ripple_effect: True

<MDSmartTileArticle@ButtonBehavior+MDSmartTile>
    radius: 24
    box_radius: [0, 0, 24, 24]
    lines: 2
    source: "images/no_image.jpg"
    pos_hint: {"center_x": .5, "center_y": .5}
    size_hint: None, None
    size: "320dp", "320dp"
    box_color: 0, 0, 0, 0.85
    article_id: 55
    on_release: app.open_recipe(self.article_id)

<TwoLineListItemArticle>
    text: "[color=#ffffff][b]Title[/b][/color]"
    secondary_text: "[color=#808080][b]Subtitle[/b][/color]"
    pos_hint: {"center_y": .5}
    _no_ripple_effect: True

MDScreen:
    MDNavigationLayout

        ScreenManager:
            id: screen_manager

            Screen:
                name: 'start'

                MDFloatLayout:
                    id: start_layout
                    Video:
                        id: start_video
                        source: 'images/startvideo.mp4'
                        play: True
                        volume: 0

                    Label:
                        id: start_screen_label
                        text: 'Добро пожаловать'
                        pos_hint: {'center_x': 0.3, 'center_y': 0.75}
                        font_name: 'fonts/FrenchKissscript.ttf'
                        font_size: 50
                        color: 1, 1, 1, 0

                    MDRoundFlatButton:
                        id: start_screen_log_in_btn
                        text: 'Войти'
                        font_size: 20
                        text_color: 1, 1, 1, 0
                        line_color: 1, 1, 1, 0
                        size_hint: 0.75, 0.075
                        pos_hint: {'center_x': 0.3, 'center_y': 0.515}
                        on_release:
                            app.to_log_in()
                    MDRoundFlatButton:
                        id: start_screen_sign_up_btn
                        text: 'Зарегистрироваться'
                        font_size: 20
                        text_color: 1, 1, 1, 0
                        line_color: 1, 1, 1, 0
                        size_hint: 0.75, 0.075
                        pos_hint: {'center_x': 0.3, 'center_y': 0.375}
                        on_release:
                            app.to_sign_up()

                    MDCard:
                        id: log_in_card
                        size_hint: None, None
                        size: 300, 400
                        pos_hint: {"center_x": 2, "center_y": 0.5}
                        md_bg_color: 1, 1, 1, 0.75
                        padding: 25
                        spacing: 20
                        orientation: 'vertical'


                        MDLabel:
                            id: login_welcome_label
                            text: "Вход в аккаунт"
                            font_name: 'fonts/Rhythm-and-Jazz-Decor.ttf'
                            font_size: 27
                            halign: 'center'
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding_y: 15

                        MDGridLayout:
                            cols: 2
                            spacing: 15

                            MDTextField:
                                id: login_user
                                hint_text: 'Имя пользователя'
                                size_hint_x: None
                                width: 200
                                pos_hint: {"center_x": 0.5}

                            MDIconButton:
                                icon: 'account'

                            MDTextField:
                                id: login_password
                                hint_text: 'Пароль'
                                size_hint_x: None
                                width: 200
                                pos_hint: {"center_x": 0.5}
                                password: True

                            MDIconButton:
                                icon: "eye-off"
                                pos_hint: {"center_y": .5}
                                pos: login_password.width - self.width + dp(8), 0
                                theme_text_color: "Hint"
                                on_release:
                                    self.icon = "eye" if self.icon == "eye-off" else "eye-off"
                                    login_password.password = False if login_password.password is True else True

                            MDFlatButton:
                                text: "Нет аккаунта"
                                theme_text_color: "Custom"
                                text_color: '42AAFF'
                                on_release:
                                    app.to_sign_up()

                        MDRoundFlatButton:
                            text: "Вход"
                            font_size: 15
                            pos_hint: {"center_x": 0.5}
                            size_hint_x: 0.75
                            on_release:
                                app.log_in(root.ids.login_user.text, root.ids.login_password.text)

                    MDCard:
                        id: sign_up_card
                        size_hint: None, None
                        size: 300, 450
                        pos_hint: {"center_x": 2, "center_y": 0.5}
                        #elevation: 2
                        md_bg_color: 1, 1, 1, 0.75
                        padding: 25
                        spacing: 17
                        orientation: 'vertical'


                        MDLabel:
                            id: signup_welcome_label
                            text: "Регистрация аккаунта"
                            font_name: 'fonts/Rhythm-and-Jazz-Decor.ttf'
                            font_size: 27
                            halign: 'center'
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding_y: 15

                        MDGridLayout:
                            cols: 2

                            MDTextField:
                                id: signup_user
                                hint_text: 'Имя пользователя'
                                size_hint_x: None
                                width: 200
                                pos_hint: {"center_x": 0.5}

                            MDIconButton:
                                icon: 'account'

                            MDTextField:
                                id: signup_email
                                hint_text: 'Электронная почта'
                                size_hint_x: None
                                width: 200
                                pos_hint: {"center_x": 0.5}

                            MDIconButton:
                                icon: 'email'

                            MDTextField:
                                id: signup_password
                                hint_text: 'Пароль'
                                size_hint_x: None
                                width: 200
                                pos_hint: {"center_x": 0.5}
                                password: True

                            MDIconButton:
                                icon: "eye-off"
                                pos_hint: {"center_y": .5}
                                pos: signup_password.width - self.width + dp(8), 0
                                theme_text_color: "Hint"
                                on_release:
                                    self.icon = "eye" if self.icon == "eye-off" else "eye-off"
                                    signup_password.password = False if signup_password.password is True else True

                            MDFlatButton:
                                text: "Есть аккаунт"
                                theme_text_color: "Custom"
                                text_color: '42AAFF'
                                on_release:
                                    app.to_log_in()

                        MDRoundFlatButton:
                            text: "Регистрация"
                            font_size: 15
                            pos_hint: {"center_x": 0.5}
                            size_hint_x: 0.75
                            on_release:
                                app.sign_up(root.ids.signup_user.text, root.ids.signup_password.text, root.ids.signup_email.text)

            Screen:
                name: "main"

                FitImage:
                    source: 'images/bg1.png'
                    color: 1, 1, 1, 0.1

                MDTopAppBar:
                    title: "Главная"
                    elevation: 4
                    pos_hint: {"top": 1}
                    specific_text_color: "#000000"
                    left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]

                MDFloatLayout:
                    MDFillRoundFlatIconButton:
                        text: "Создать мероприятие"
                        icon: "cake"
                        #md_bg_color: 1, 1, 1, 1
                        size_hint: 0.8, 0.075
                        pos_hint: {'center_x': 0.5, 'center_y': 0.6}

                    MDFillRoundFlatIconButton:
                        text: "Найти рецепт"
                        icon: "magnify"
                        size_hint: 0.8, 0.075
                        pos_hint: {'center_x': 0.5, 'center_y': 0.4}

            Screen:
                name: 'verification'



            Screen:
                name: "account"

                FitImage:
                    source: 'images/bg1.png'

                MDTopAppBar:
                    title: "Аккаунт"
                    elevation: 4
                    pos_hint: {"top": 1}
                    specific_text_color: "#000000"
                    left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]

                MDFloatLayout:
                    MDIconButton:
                        pos_hint: {'center_x': 0.5, 'center_y': 0.8}
                        icon: 'account-circle'
                        icon_size: 100
                    MDCard:
                        style: "filled"
                        #line_color: 0.1, 0.1, 0.1, 1
                        md_bg_color: 1, 1, 1, 0.9
                        orientation: 'vertical'
                        size_hint: 0.9, 0.1
                        pos_hint: {'center_x': 0.5, 'center_y': 0.65}
                        MDLabel:
                            id: account_name_label
                            text: 'Name Username'
                            font_size: 25
                            halign: 'center'
                        MDLabel:
                            id: account_username
                            text: '@identificator'
                            font_size: 23
                            halign: 'center'
                    MDCard:
                        style: "filled"
                        #line_color: 0.1, 0.1, 0.1, 1
                        md_bg_color: 1, 1, 1, 0.9
                        size_hint: 0.9, 0.05
                        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                        MDLabel:
                            id: account_email
                            text: 'useremail@mail.ru'
                            font_size: 23
                            halign: 'center'
                    MDRectangleFlatButton:
                        text: 'Сменить имя'
                        font_size: 20
                        pos_hint: {'center_x': 0.5, 'center_y': 0.275}
                        size_hint: 0.5, 0.075
                        md_bg_color: 1, 1, 1, 0.8
                    MDRectangleFlatButton:
                        text: 'Сменить пароль'
                        font_size: 20
                        pos_hint: {'center_x': 0.5, 'center_y': 0.175}
                        size_hint: 0.5, 0.075
                        md_bg_color: 1, 1, 1, 0.8
                    MDRectangleFlatButton:
                        text: 'Выйти'
                        font_size: 20
                        pos_hint: {'center_x': 0.5, 'center_y': 0.075}
                        size_hint: 0.5, 0.075
                        md_bg_color: 1, 1, 1, 0.8


            Screen:
                name: "friends"
                FitImage:
                    source: 'images/bg1.png'
                MDTopAppBar:
                    title: "Друзья"
                    elevation: 4
                    pos_hint: {"top": 1}
                    specific_text_color: "#000000"
                    left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]

                MDList:
                    OneLineAvatarIconListItem:
                        text: "One-line item with avatar"

                        IconLeftWidget:
                            icon: "account"

                        IconRightWidget:
                            icon: "plus"
                OneLineListItem:
                    size_hint: 0.9, None
                    text: "У вас нет друзей"
                    pos_hint: {"top": 0.1}

            Screen:
                name: "recipes"
                FitImage:
                    source: 'images/bg1.png'
                MDTopAppBar:
                    id: list_l
                    title: "Рецепты"
                    elevation: 4
                    pos_hint: {"top": 1}
                    specific_text_color: "#000000"
                    left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]

                OneLineListItem:
                    text: "У вас нет рецептов"
                    pos_hint: {"top": 0.1}

                MDFillRoundFlatIconButton:
                    icon: "pencil"
                    text: "Создать рецепт"
                    pos_hint: {"top": 0.2, "x": 0.5}
                    on_release:
                        app.screen("create_new")

            MDScreen:
                name: "create_new"
                FitImage:
                    source: 'images/bg1.png'
                MDTopAppBar:
                    title: "Создать рецепт"
                    elevation: 4
                    pos_hint: {"top": 1}
                    specific_text_color: "#000000"
                    left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
                MDCard:
                    size: root.width, root.height
                    size_hint: 1, .8
                    pos_hint: {"top": 0.9}
                FloatLayout:
                    MDIconButton:
                        icon: "image"
                        icon_size: "64sp"
                        theme_icon_color: "Custom"
                        icon_color: app.theme_cls.primary_color
                        pos_hint: {"top": 0.9, "x": 0.8}
                        on_press:
                            app.file_manager_open()
                    MDTextField:
                        hint_text: "Название рецепта"
                        pos_hint: {"top": 0.9, "x": 0.2}
                        size_hint: 0.6, 0.1
                    MDTextField:
                        hint_text: "Краткое описание"
                        multiline: True
                        pos_hint: {"top": 0.8, "x": 0.2}
                        size_hint: 0.6, 0.25
                        mode: "rectangle"
                    MDIconButton:
                        icon: "plus-box"
                        icon_size: "64sp"
                        theme_icon_color: "Custom"
                        icon_color: app.theme_cls.primary_color
                        pos_hint: {"top": 0.55, "x": 0.8}
                        on_press:
                            app.open_list_product()
                    MDTextField:
                        hint_text: "Ингридиенты"
                        pos_hint: {"top": 0.55, "x": 0.2}
                        size_hint: 0.6, 0.1
                    MDTextField:
                        hint_text: "Приготовление"
                        multiline: True
                        pos_hint: {"top": 0.4, "x": 0.2}
                        size_hint: 0.6, 0.25
                        mode: "rectangle"
#Navigation menu ----------------------------------------------------------------------------------------
        MDNavigationDrawer:
            id: nav_drawer
            radius: (0, 16, 16, 0)

            MDNavigationDrawerMenu:
                spacing: 5
                do_scroll_y: False
                MDNavigationDrawerHeader:
                    title: "ResipeHub"
                    bold: True
                    font_size: 15
                    title_color: 0.4, 0.75, 0.1, 1
                    source: "images/green_logo.png"
                    spacing: "80dp"
                    padding: "12dp", 0, 0, "56dp"

                DrawerClickableItem:
                    id: "Home"
                    icon: "home"
                    text_right_color: "#d489b2"
                    text: "Главная"
                    on_release:
                        app.screen("main")
                        app.close_nav()

                DrawerClickableItem:
                    id: "Account"
                    icon: "account"
                    text_right_color: "#d489b2"
                    text: "Аккаунт"
                    on_release:
                        app.screen("account")
                        app.close_nav()

                DrawerClickableItem:
                    id: "Friends"
                    icon: "account-supervisor"
                    text: "Друзья"
                    on_release:
                        app.screen("friends")
                        app.close_nav()

                DrawerClickableItem:
                    id: "Recipes"
                    icon: "book"
                    text: "Рецепты"
                    on_release:
                        app.screen("recipes")
                        app.close_nav()

                DrawerClickableItem:
                    id: "Product"
                    icon: "food"
                    text: "Ингридиенты"
                    